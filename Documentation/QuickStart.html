<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
      <html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">

<head>
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />
<title>PyMark - Quick Start</title>
	<script type="text/javascript" src="scripts/shCore.js"></script>
	<script type="text/javascript" src="scripts/shBrushPython.js"></script>
	<link type="text/css" rel="stylesheet" href="styles/shCoreDefault.css"/>
	<script type="text/javascript">SyntaxHighlighter.all();</script>
	
	<link type="text/css" rel="stylesheet" href="styles/main.css" />
</head>

<body>


<div class="container">

<div class="box shadow">
	<h1>PyMark - Quick Start</h1>
</div>

<h2>Part 0 - Introduction</h2>

<p>For this I'm assuming you have Python installed and have set up the PATH variable appropriately so that it can be used on the command line. I'm also assuming you know a little about PyMark and you've considered that you want to use it, but you just want to get on with adding it to your project - details can be worked out later. Luckily for you, PyMark is very simple to use and implement. It can be done in just a few easy steps.</p>

<ul>
	<li><a href="#part1">Part 1 - Create your Objects</a></li>
	<li><a href="#part2">Part 2 - Compile your Objects</a></li>
	<li><a href="#part3">Part 3 - Load your Objects</a></li>
	<li><a href="#part4">Part 4 - Improve your Objects</a></li>
</ul>

<a name="part1"><h2>Part 1 - Create your Objects</h2></a>

<p>All of the magic happens in the main PyMark directory (the one with PyMark.py in).</p>

<p>Any .py files that are located in here, PyMark will consider "modules", and will attempt to compile. So this is where all your Python constructed objects go. To actually specify the object inside the file which you want to compile you simply give it the same name as the file it is in.</p>

<p>So go ahead and create a new .py file in this directory - name it what you wish. In this example I'm going to be building a list of pets. So I'm going to go ahead and create a new file pets.py. You may also notice that I've cleaned up the directory of any example modules and various other unneeded bits.</p>

<div class="center">
<img src="./images/pets_created.png" alt="Pets Created" class="box shadow"/>
</div>

<p>Inside this file, create a new python variable, giving it the same name as the file you just created.</p> 

<p>Assign to this variable some construct based off the native python types (Lists, Dictionaries, Strings, Ints, etc). PyMark will support most of what you might expect, but doesn't do class instances, functions and that sort of thing.</p>

<div class="box shadow">
<pre class="brush: python;">
pets = [

	{"name":	"John",
	"animal":	"Dog",
	"legs":		4,
	"age":		10,
	"toys":		["squeezy","bone"],
	"traits":	["Cute","Funny","Friendly"],
	"color":	"Brown"},
	
	{"name":	"Benni",
	"animal":	"Cat",
	"legs":		4,
	"age":		8,
	"toys":		["mouse_ball","string"],
	"traits":	["Cute","Vain"],
	"color":	"Ginger"},
	
	{"name":	"Leeroy",
	"animal":	"Elephant",
	"legs":		4.5,
	"age":		102,
	"toys":		["peanuts"],
	"traits":	["Friendly"],
	"color":	"Grey"},
	
	{"name":	"Tophat",
	"animal":	"Sparrow",
	"legs":		2,
	"age":		1,
	"toys":		None,
	"traits":	["Vain","Speedy"],
	"color":	"Brown"},

]
</pre>
</div>


<a name="part1"><h2>Part 2 - Compile your Objects</h2></a>

<p>This part is simple. Just run Compile.sh (Unix) or Compile.bat (Windows) and take a look at the output. If there are any syntax or other errors go about and fix them, then run it again. When you get no errors you're done!</p>

<p>Alternately you can just run PyMark.py yourself (this is all the scripts do) from a console or however else you like.</p>

<div class="center">
<img src="./images/pets_object_compiled.png" alt="Pets Compiled" class="box shadow"/>
</div>

<a name="part3"><h2>Part 3 - Load your Objects</h2></a>

<p>Have a look in the "Classes" folder and pick a class which corrisponds to the programming language you're using in your project.</p>

<p>How you implement this class depends on the language you are using but usually all you need to do is add the class to your solution somehow and then instanciate it with a String to the path of the PyMark main directory.</p>

<p>Once you have an instance of the class you usually just have to call the "Load()" method on it and then it should have a property called "modules" which contains all your module objects.<p>

<p>And you're done!<p>

<div class="center">
<img src="./images/pets_c_sharp.png" alt="Pets C#" class="box shadow"/>
</div>

<a name="part4"><h2>Part 4 - Improve your Objects</h2></a>

<p>Actually the pets example I showed above wasn't really very good. I think we can probably do make something much better - which expresses the data better, is easier to read and is far more elegant. In the module <i>PyMark.Util</i> we can find a few helper functions to give us a hand. Take a look at this file and other than the comments all over the place already you can see the improvement.</p>

<div class="box shadow">
<pre class="brush: python;">
from PyMark.Util import *

# The "animal" field isn't really looking for a String - it's looking for a type. So we can use this Enum instead. Much better.
Dog, Cat, Elephant, Sparrow = Enum(4)

# Lots of the personality traits are shared, perhaps we can use Flags instead! Makes a lot more sense than a list of Strings.
Cute, Funny, Friendly, Vain, Speedy = Flags(5)

# It'd be nicer to represent color as a tuple rather than a string, we can do it with this quick function definition.
# This adds more expressive power, and we can even ensure that the outputs are floats.
def Color(r,g,b):
	return (float(r),float(g),float(b))

# We can define some constants to help us with the colors. That way we can reuse them.
BROWN = Color(156,137,61)
GINGER = Color(247,172,32)
GREY = Color(128,128,128)

# If you're worried about detecting these flags, enums or constants afterwards don't be. All constants are compiled to a special "constants" module, so it should be no problem!

# Finally lets consider the "toys" field. If in fact we consider a toy as another object and if we have toys module defined, then we can use the reference function to express this link!

# Overall I think this is much nicer. We've reduced the instances of Strings to just the parts which actually are strings, and dramatically increased the expressiveness of the data!
# Also without all those strings I think it is much easier to read.
# I'm not saying that all of these things are the "correct" way to structure the data.
# I believe you should structure your data to best suite the task in hand, not by some set of global rules.
# Having extra constructs just allows for that a little more easily :)

pets = [

	{"name":	"John",
	"animal":	Dog,
	"legs":		4,
	"age":		10,
	"toys":		[Ref("toys.squeezy"),
				 Ref("toys.bone")],
	"traits":	Cute|Funny|Friendly
	"color":	BROWN},
	
	{"name":	"Benni",
	"animal":	Cat,
	"legs":		4,
	"age":		8,
	"toys":		[Ref("toys.mouse_ball"),
				 Ref("toys.string")],
	"traits":	Cute|Vain
	"color":	GINGER},
	
	{"name":	"Leeroy",
	"animal":	Elephant,
	"legs":		4.5,
	"age":		102,
	"toys":		[Ref("toys.peanuts")],
	"traits":	Friendly
	"color":	GREY},
	
	{"name":	"Tophat",
	"animal":	Sparrow,
	"legs":		2,
	"age":		1,
	"toys":		None,
	"traits":	Vain|Speedy,
	"color":	BROWN},

]
</pre>
</div>

<p>See, isn't that much better.</p>
<p>I'm not going to pretend PyMark has much scope beyond that example above - but I suppose that is up to the user programmer's creativity, because there is a whole programming language hinding behind the curtain.</p>
<p>For more information on how to use <i>PyMark.Util</i>, as well as some of PyMark's other constructs and features check out the rest of the documentation.</p>

</div>
</body>

</html>